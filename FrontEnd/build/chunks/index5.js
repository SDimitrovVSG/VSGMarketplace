import{r as c,j as s,Q as m}from"../index.js";import{c as u,d as j}from"./ordersService.js";import{P as x,C as p}from"./Popup.js";import{F as h}from"./Fade.js";const N=({order:e})=>{const[n]=u(),[i,a]=c.useState(null),[t,l]=c.useState(e.status),o="Are you sure you want to reject this order ?",d=async()=>{const r=await n(e.id);a(null),"error"in r||(setTimeout(()=>{l("Declined")},600),m.info("Order declined."))};return s.jsxs(s.Fragment,{children:[s.jsx(x,{string:o,onYes:d,anchorEl:i,setAnchorEl:a}),s.jsx(h,{in:!0,timeout:1e3,children:s.jsxs("div",{id:e.id.toString(),className:"order",children:[s.jsx("span",{className:"nameColumn",children:e.productFullName}),s.jsxs("div",{className:"firstTwo",children:[s.jsx("span",{className:"qtyColumn",children:e.quantity}),s.jsxs("span",{className:"priceColumn",children:[e.price," BGN"]})]}),s.jsx("span",{className:"orderDateColumn",children:e.date}),s.jsxs("div",{className:"orderStatus",children:[s.jsx("span",{children:t}),t==="Pending"&&s.jsx("a",{className:"cancelOrder",onClick:r=>a(r.currentTarget),children:s.jsx(p,{sx:{fontSize:"large",color:"#ED1C25"}})})]})]})})]})},O=()=>{const{data:e}=j();return s.jsxs("main",{id:"myOrdersMain",children:[s.jsxs("div",{id:"headingSection",children:[s.jsx("span",{className:"nameColumn",children:"Name"}),s.jsx("span",{className:"qtyColumn",children:"QTY"}),s.jsx("span",{className:"priceColumn",children:"Price"}),s.jsx("span",{className:"orderDateColumn",children:"Order Date"}),s.jsx("span",{className:"orderStatus",children:"Status"})]}),e&&e.map(n=>s.jsx(N,{order:n},n.id)),(e==null?void 0:e.length)===0&&s.jsx("div",{className:"order",children:"No orders"})]})};export{O as default};
